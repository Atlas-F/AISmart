# AISmart
AI 小智 圆形界面，使用文件模拟数据参数等

**环境**

​    ubuntuSDL和GEC6818

**开发工具**
    Square Line 
    Vscode
    ubuntu20

**编译**
    arm-linux-gcc

**项目管理**
    CMake

**版本管理**
    git@github.com:Atlas-F/AISmart.git

**界面**

    数量：4
        休眠界面：
            表情图：10个，间隔随机3秒内切换，循环
            切换方式：新旧交替浮现，调整不透明度
            实现：
                
        切换方式：点击
        1.常态界面：
            内容：时间与日期显示
                电池logo
                WIFIlogo
                日历
                时钟：时分秒
        2.2主界面：
            内容：交互问答功能
                - 预设常见问题和回答
                - 简单的关键词匹配
                - 随即闲聊（待定）
        3.3界面
            内容：本地天气模拟



### 操作流程

初始化函数Init()进入程序

-> 休眠界面

->常态界面



### SquareLine 快捷设计导出注意

使用SquareLine再进行导出操作时，部分文件可能被覆盖，高危操作，谨慎！





## 核心功能框架

### 一、从交互到本地能力



初始化main.c

执行AISmart()进入并配置各种资源初始化

执行InitEmojiAutoChange（）进入

#### 1.休眠--常态界面





休眠界面：表情图自动切换：10个表情图随机间隔3秒内切换循环

​	实现：

​		父容器内置10个子表情图，使用初始化切换函数InitEmojiAutoChange（）进行切换，新旧交替浮现，调整不透明度，切换时间1秒

使用时需要在UI.c中设置定时器

界面切换：

​	点击：点击事件中断休眠界面，进入常态界面

​	实现：点击事件InitToNormal()





常态界面：

​	内容：时间与日期显示、电池ui、wifiui、日历（点击可以查看日历）

​	实现：时间（获取本地时钟）

​				localtime()获取特定时间：
​					举例：\#include <stdio.h> #include <time.h> int main() {    time_t now;    struct tm *local_time;        time(&now);    local_time = localtime(&now);        // 只获取月份和日期    int month = local_time->tm_mon + 1;  // 月份从0开始，所以加1    int day = local_time->tm_mday;        printf("今天是 %d月%d日\n", month, day);    return 0; }

​				strftime（）格式化输出

​						（图片显示）

​						（ lvgl框架显示 ）

​				日期（获取本地日期）（lvgl是否内置获取函数？）

​				日历：lvgl内置日历部件显示

​				电池ui、WIFI ui、

​		

​	

**注意 **

​	在进入功能界面后，应该停止休眠界面的自动切换



####  2.基础交互界面（核心）
**语音 / 文本输入模拟**
    设计麦克风图标按钮或文本输入框，点击后弹出 “正在识别” 动画（用 LVGL 的动画效果模拟语音接收），用户可通过文本输入模拟指令（如 “打开音乐”“讲个笑话”）。
**实现要点：**
    用 LVGL 的按钮、文本框控件，搭配状态切换动画（如按钮按下变色、输入框获取焦点高亮）。
**响应反馈展示**
    主界面设置 “对话气泡” 区域，AI 回复以文本形式显示（可模拟不同颜色区分用户和 AI），支持简单表情符号（用 LVGL 的图标或自定义图片）。
**案例：**
    用户输入 “今天天气如何”，AI 回复 “根据本地数据，今天晴天，25℃”（数据从本地文件读取）。



#### 3.本地信息处理（核心能力）
**本地文件数据调用**
    提前在 SD 卡或程序内置文本数据文件中存储预设数据（如天气、笑话、知识库），AI 根据用户指令读取文件内容并回复。

​	格式化存储数据

**示例功能：**
    天气查询：从 “weather.txt” 读取城市天气数据（如 “北京，晴天，25℃”），解析后展示在界面。
**知识库问答：**
    在 “qa.txt” 中存储 “问题 - 答案” 对（如 “地球为什么会自转，因为天体形成时的角动量守恒”），用户提问时匹配回复。
**简单逻辑运算**
    支持基础计算（如 “1+1 等于多少”）、日期 / 时间查询（用 LVGL 的时钟控件获取本地时间）、单位换算（如 “1 米等于多少厘米”）。
**实现：**
    用 C 语言编写函数处理输入指令，解析关键词后执行计算，结果显示在界面。



####  4.功能拓展模块（可选，按时间分配）
本地功能控制（模拟智能家居）
设计虚拟设备控制界面（如灯光、空调），点击按钮时修改界面状态（如灯光图标变亮、空调温度数值变化），并在对话气泡中显示 “已打开灯光”。
数据存储：用文本文件记录设备状态（如 “light=on”），重启后读取恢复。
简单娱乐功能
猜谜 / 游戏：内置猜数字、成语接龙等小游戏，通过对话气泡交互（如 “我想玩猜数字”，AI 回复 “请猜 1-100 的数字”）。
音乐播放控制：模拟音乐播放器界面（见之前案例），点击按钮切换 “播放 / 暂停” 状态，用 LVGL 的进度条显示播放进度（数据从本地文件读取模拟）。
        

**界面设计建议**
    使用 SquareLine 设计简洁直观的界面
    主界面显示时间和主要功能入口
    每个功能模块使用独立页面
    添加简单的动画和过渡效果

开发路线图

第 1 天：环境搭建与基础界面设计
    安装 LVGL 和 SquareLine Studio
    创建项目结构
    设计主界面和导航系统
    实现界面切换功能
第 2 天：时间显示与文件操作
    实现实时时钟和日期显示
    学习文件读写操作
    创建简单的数据文件格式
第 3 天：问答功能与本地天气
    设计问答数据库文件格式
    实现简单的问答匹配算法
    创建本地天气模拟数据文件
    实现天气显示界面
第 4 天：提醒功能与音乐控制
    设计提醒数据文件格式
    实现提醒的添加和显示功能
    创建模拟音乐数据文件
    实现音乐控制界面
第 5 天：整合与优化
    整合所有功能
    添加简单的错误处理
    优化界面交互和动画效果
    测试所有功能
    示例代码框架
下面是一个简单的框架示例，展示如何实现基本功能：

ai-xiaozhi-framework
AI小智基本框架
V2
生成 ai_xiaozhi.c
开发建议
专注于基础功能：作为新手，建议先实现问答和时间显示功能，这些是最基础且直观的功能。
利用本地文件存储数据：通过简单的文本文件格式存储问答、天气、提醒等数据。
分模块开发：
第 1 天：环境搭建和主界面
第 2 天：时间显示和问答功能
第 3 天：天气和提醒功能
第 4 天：音乐和游戏功能
第 5 天：整合和优化
学习文件操作：掌握基本的文件读写操作，这对实现数据持久化很重要。
参考官方文档：LVGL 官方文档和示例是很好的学习资源。
先模拟后完善：先实现功能的基本框架，然后再逐步完善细节。



#### 数据文件



**问答数据文件 (qa_data.txt)：**
plaintext
问题1|回答1
问题2|回答2

**天气数据文件 (weather_data.txt)：**
plaintext
天气状况
温度
风力

**提醒数据文件 (alarm_data.txt)：**
plaintext
时间1|提醒内容1
时间2|提醒内容2

音乐数据文件 (music_data.txt)：
plaintext
歌曲1|歌手1
歌曲2|歌手2



**技术栈**

   - LVGL
     - C语言

**数据**
    从文件导入











